{% comment fetch attributes on the network, or empty string by default %}

{% set network_name = getattr(network, 'network', '') %}
{% set network_nickname = getattr(network, 'nickname', '') %}
{% set network_username = getattr(network, 'username', '') %}

{% if hasattr(network, 'hostname') %}
    {% set network_address = getattr(network, 'hostname', '') + ':' + \
                             str(getattr(network, 'port', '')) %}
{% else %}
    {% set network_address = '' %}
{% end %}

{% set disabled_str = "disabled=''" if disabled else "" %}

<div class='server panel panel-default'>
    <div class='server-title panel-heading'>
        <h3 class='panel-title'>Network</h3>
    </div>

    <div class='panel-body'>
        <div class='form-group'>
            <label for='networkname' class='col-lg-2 control-label'>Network Name</label>
            <div class='col-lg-10'>
                <input type='text' class='form-control' name='networkname' value='{{network_name}}' placeholder='Freenode' {{disabled_str}}>
            </div>
        </div>

        <div class='form-group'>
            <label for='networkaddress' class='col-lg-2 control-label'>Network Address</label>
            <div class='col-lg-10'>
                <input type='text' class='form-control' name='networkaddress' value='{{network_address}}' placeholder='irc.freenode.net' {{disabled_str}}>
            </div>
        </div>

        <div class='form-group'>
            <label for='nickname' class='col-lg-2 control-label'>Nickname</label>
            <div class='col-lg-10'>
                <input type='text' class='form-control' name='nickname' value='{{network_nickname}}' {{disabled_str}}>
            </div>
        </div>

        <div class='form-group'>
            <label for='ident' class='col-lg-2 control-label'>Username (Ident)</label>
            <div class='col-lg-10'>
                <input type='text' class='form-control' name='ident' value='{{network_username}}' {{disabled_str}}>
            </div>
        </div>

        {% if network_controls %}
        <div class='pull-right'>
            <a href='/edit/{{network_name}}/' class='btn btn-sputnik-secondary'>Edit</a>
            <a href='javascript:void(0)' class='btn btn-sputnik-secondary'>Delete</a>
        </div>
        {% end %}
    </div>
</div>
